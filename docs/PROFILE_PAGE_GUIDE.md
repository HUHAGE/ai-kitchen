# 我的主页功能说明

## 功能概述

"我的主页"是一个用户个人信息展示和管理页面，用户可以在这里查看和编辑自己的个人资料，以及查看自己创建的所有菜谱。

## 功能特性

### 1. 个人信息展示
- **头像**：显示用户头像，支持自定义图片 URL
- **昵称**：显示用户昵称
- **联系方式**：显示用户的邮箱或手机号
- **个性签名**：显示用户的个性签名（bio）
- **统计信息**：显示用户创建的菜谱数量

### 2. 个人信息编辑
- 点击"编辑资料"按钮进入编辑模式
- 可以修改：
  - 头像 URL
  - 昵称
  - 个性签名
- 点击"保存"按钮保存修改
- 点击"取消"按钮放弃修改

### 3. 我创建的菜谱
- 以卡片形式展示用户创建的所有菜谱
- 每个菜谱卡片显示：
  - 菜谱图片（如果有）
  - 菜谱名称
  - 菜谱描述
  - 难度等级
  - 食材数量
  - 步骤数量

### 4. 游客模式限制
- 游客无法访问个人主页
- 会显示提示信息，引导用户登录

## 访问方式

### 侧边栏导航
在侧边栏（PC端）或底部导航栏（移动端）中，点击"我的主页"菜单项即可访问。

### 路由地址
- 路由路径：`/profile`
- 完整 URL：`#/profile`

## 技术实现

### 数据存储
用户信息存储在 Supabase Auth 的 `user_metadata` 中：
- `display_name`：昵称
- `avatar_url`：头像 URL
- `bio`：个性签名

### 相关文件
- **页面组件**：`pages/Profile.tsx`
- **认证服务**：`services/auth.service.ts`
- **布局组件**：`components/Layout.tsx`
- **路由配置**：`App.tsx`

### API 接口
使用 Supabase Auth API：
- `supabase.auth.getUser()`：获取当前用户信息
- `supabase.auth.updateUser()`：更新用户信息

## 使用示例

### 编辑个人资料
1. 进入"我的主页"
2. 点击"编辑资料"按钮
3. 修改昵称、头像 URL 或个性签名
4. 点击"保存"按钮
5. 系统会显示"个人信息更新成功"的提示

### 查看我的菜谱
1. 进入"我的主页"
2. 滚动到"我创建的菜谱"部分
3. 查看所有自己创建的菜谱卡片

## 注意事项

1. **游客限制**：游客用户无法访问个人主页，需要先登录
2. **头像 URL**：头像需要提供有效的图片 URL，建议使用图床服务
3. **数据同步**：修改个人信息后，侧边栏的用户信息会自动更新
4. **菜谱关联**：只显示当前用户创建的菜谱（`userId` 匹配）

## 未来优化方向

1. 支持头像上传功能（而不是仅输入 URL）
2. 添加更多统计信息（如收藏的菜谱、完成的计划等）
3. 支持查看其他用户的主页
4. 添加社交功能（关注、粉丝等）
