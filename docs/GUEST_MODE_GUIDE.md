# 游客模式使用指南

## 🎮 什么是游客模式？

游客模式允许用户无需注册即可体验应用的大部分功能。这是一个零门槛的体验方式，让用户可以快速了解应用的功能和价值。

## ✨ 游客模式特性

### 可以访问的功能 ✅

1. **首页（Dashboard）**
   - 查看应用概览
   - 浏览统计信息

2. **菜谱大全（Recipes）**
   - 浏览所有菜谱
   - 查看菜谱详情
   - 查看烹饪步骤
   - 查看所需食材
   - 按分类筛选菜谱
   - 搜索菜谱

3. **今日计划（Meal Planner）**
   - 查看计划列表
   - 浏览计划内容
   - **限制**: 无法添加、删除或修改计划

4. **烹饪模式（Cooking）**
   - 查看烹饪步骤
   - 使用计时器功能
   - 跟随步骤烹饪

### 无法访问的功能 ❌

1. **我的冰箱（Fridge）**
   - 完全无法访问
   - 点击会提示需要登录
   - 这是个人数据，需要账号才能管理

### 无法执行的操作 🚫

即使在可访问的页面，游客也无法执行以下操作：

- ❌ 添加新菜谱
- ❌ 编辑菜谱
- ❌ 删除菜谱
- ❌ 添加到今日计划
- ❌ 修改计划状态
- ❌ 添加/编辑/删除分类
- ❌ 管理食材库存

尝试执行这些操作时，会收到提示："游客模式下无法执行此操作，请先登录"

## 🚀 如何使用游客模式

### 方式 1: 从登录页面进入

1. 访问应用首页
2. 在登录页面点击"以游客身份浏览"
3. 立即进入应用

### 方式 2: 从注册页面进入

1. 访问注册页面
2. 点击"以游客身份浏览"
3. 立即进入应用

## 🔄 从游客模式切换到正式账号

### 方法 1: 通过用户菜单

1. 点击左侧边栏底部的用户头像
2. 在弹出菜单中点击"登录账号"
3. 跳转到登录页面
4. 登录或注册账号

### 方法 2: 直接访问登录页面

1. 在浏览器地址栏输入 `/#/login`
2. 登录或注册账号

## 💡 游客模式的优势

### 对用户的好处

1. **零门槛体验**
   - 无需填写任何信息
   - 一键即可开始使用
   - 快速了解应用功能

2. **隐私保护**
   - 不需要提供个人信息
   - 数据存储在本地浏览器
   - 随时可以清除

3. **灵活切换**
   - 随时可以注册正式账号
   - 无缝切换到完整功能
   - 不会丢失浏览体验

### 对开发者的好处

1. **降低使用门槛**
   - 提高用户转化率
   - 让用户先体验再决定
   - 减少注册流失

2. **展示应用价值**
   - 用户可以先看到功能
   - 了解应用的实际价值
   - 增加注册意愿

## 🔒 数据存储说明

### 游客数据

- 存储位置：浏览器 localStorage
- 存储内容：游客用户标识
- 数据持久性：清除浏览器数据后会丢失
- 隐私性：完全本地存储，不上传服务器

### 正式用户数据

- 存储位置：Supabase 云数据库
- 存储内容：用户信息、食材、菜谱、计划等
- 数据持久性：永久保存
- 隐私性：加密存储，安全可靠

## 🎯 使用场景

### 适合游客模式的场景

1. **快速浏览菜谱**
   - 寻找今晚做什么菜
   - 查看菜谱步骤
   - 了解所需食材

2. **体验应用功能**
   - 第一次使用应用
   - 评估是否适合自己
   - 了解应用界面

3. **临时使用**
   - 在朋友电脑上查看菜谱
   - 不想留下个人信息
   - 快速查询烹饪方法

### 需要注册账号的场景

1. **管理个人食材**
   - 记录冰箱库存
   - 追踪保质期
   - 管理采购清单

2. **个性化计划**
   - 制定每日餐食计划
   - 保存喜欢的菜谱
   - 记录烹饪历史

3. **长期使用**
   - 持续使用应用
   - 积累个人数据
   - 跨设备同步

## 🔧 技术实现

### 游客用户对象

```typescript
{
  id: 'guest-' + timestamp,
  displayName: '游客',
  isGuest: true
}
```

### 权限检查

所有修改操作都会检查用户是否为游客：

```typescript
if (user?.isGuest) {
  throw new Error('游客模式下无法执行此操作，请先登录');
}
```

### 数据加载策略

- **菜谱数据**: 游客和正式用户都可以加载
- **食材数据**: 仅正式用户加载
- **计划数据**: 仅正式用户加载

## 📊 游客模式 vs 正式账号对比

| 功能 | 游客模式 | 正式账号 |
|------|---------|---------|
| 浏览菜谱 | ✅ | ✅ |
| 查看烹饪步骤 | ✅ | ✅ |
| 查看今日计划 | ✅ | ✅ |
| 访问我的冰箱 | ❌ | ✅ |
| 添加/编辑菜谱 | ❌ | ✅ |
| 管理食材库存 | ❌ | ✅ |
| 添加到计划 | ❌ | ✅ |
| 数据云端同步 | ❌ | ✅ |
| 跨设备访问 | ❌ | ✅ |
| 个性化设置 | ❌ | ✅ |

## 🎨 用户界面标识

### 游客用户显示

- 头像背景：灰色渐变（区别于正式用户的绿色）
- 昵称：显示"游客"
- 状态：显示"(游客)"标签
- 描述：显示"浏览模式"

### 正式用户显示

- 头像背景：绿色渐变
- 昵称：用户设置的昵称或邮箱前缀
- 状态：无特殊标签
- 描述：显示邮箱或手机号

## 💬 常见问题

### Q: 游客模式的数据会保存吗？

A: 游客模式下，只有游客身份标识会保存在浏览器本地。浏览的菜谱等数据来自服务器，但不会保存任何个人操作记录。

### Q: 游客模式可以使用多久？

A: 没有时间限制，可以一直使用游客模式。但建议注册账号以解锁完整功能。

### Q: 从游客切换到正式账号会丢失数据吗？

A: 游客模式下没有个人数据，所以不存在数据丢失的问题。注册后可以开始创建自己的数据。

### Q: 可以在游客模式下收藏菜谱吗？

A: 目前不支持。收藏功能需要账号才能使用，这样才能跨设备同步。

### Q: 游客模式安全吗？

A: 完全安全。游客模式只是浏览数据，不会上传任何个人信息到服务器。

## 🚀 下一步

体验完游客模式后，如果觉得应用不错，建议：

1. 点击"登录账号"
2. 注册一个正式账号
3. 解锁完整功能
4. 开始管理你的厨房

---

**提示**: 游客模式是了解应用的最佳方式，无需任何承诺即可开始体验！
