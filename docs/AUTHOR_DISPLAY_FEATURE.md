# 菜谱作者展示功能

## 功能概述

在菜谱广场和菜谱详情页面中展示菜谱作者信息，方便用户了解菜谱创建者并访问其主页。

## 功能特性

### 1. 菜谱广场 - 作者标签
- 在菜谱卡片的图片左下角显示作者标签
- 标签包含用户图标和作者昵称
- 半透明黑色背景，白色文字，易于识别
- 所有有作者的菜谱都会显示作者标签

### 2. 菜谱详情页 - 作者信息卡片
- 在烹饪模式和预览模式中都显示作者信息
- 显示作者头像、昵称
- 提供"查看主页"按钮，可跳转到作者的个人主页
- 渐变背景设计，视觉效果优雅

## 技术实现

### 新增服务
创建了 `services/users.service.ts` 用于获取用户信息：
- `getUserById(userId)`: 根据用户ID获取单个用户信息
- `getUsersByIds(userIds)`: 批量获取多个用户信息

### 数据结构
```typescript
interface UserProfile {
  id: string;
  displayName?: string;
  avatar?: string;
  bio?: string;
}
```

### 页面更新

#### Recipes.tsx (菜谱广场)
- 添加 `userProfiles` 状态缓存用户信息
- 使用 `useEffect` 在菜谱列表变化时加载作者信息
- 在菜谱卡片图片上叠加作者标签

#### Cooking.tsx (菜谱详情)
- 添加 `recipeAuthor` 状态存储当前菜谱作者
- 在页面加载时获取作者信息
- 显示作者信息卡片和"查看主页"按钮

## 使用场景

### 菜谱广场
1. 用户浏览菜谱广场
2. 每个菜谱卡片左下角显示作者昵称
3. 用户可以快速识别菜谱来源

### 菜谱详情
1. 用户打开菜谱详情页面
2. 页面顶部显示作者信息卡片
3. 点击"查看主页"按钮跳转到作者个人主页
4. 可以查看作者的其他菜谱

## 注意事项

1. **性能优化**：用户信息会被缓存在 `userProfiles` Map 中，避免重复请求
2. **错误处理**：如果无法获取用户信息，会显示"未知用户"
3. **权限限制**：Supabase Auth 的 admin API 可能需要特殊权限，当前实现会回退到当前用户信息
4. **游客模式**：游客创建的菜谱不会显示作者信息（因为没有 userId）

## 未来优化

1. 实现用户信息缓存机制，减少 API 调用
2. 创建专门的用户信息表，而不是依赖 Auth 表
3. 支持点击作者标签直接跳转到作者主页
4. 添加作者的其他统计信息（如菜谱数量、粉丝数等）
